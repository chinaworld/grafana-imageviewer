{"version":3,"sources":["../src/imageviewer_ctrl.js"],"names":["_","MetricsPanelCtrl","panelDefaults","imageURL","ImageViewerCtrl","$scope","$injector","defaults","panel","events","on","render","bind","onDataReceived","dataList","datapoints","length","scope","elem","attrs","ctrl","renderingCompleted","templateUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAOA,O;;AACCC,sB,kBAAAA,gB;;;;;;;;;;;;;;;;;;;;;AAEFC,mB,GAAgB;AACrBC,kBAAW;AADU,O;;iCAITC,e;;;AAGX,iCAAYC,MAAZ,EAAoBC,SAApB,EAA+B;AAAA;;AAAA,wIACvBD,MADuB,EACfC,SADe;;AAE7BN,YAAEO,QAAF,CAAW,MAAKC,KAAhB,EAAuBN,aAAvB;;AAEA,gBAAKO,MAAL,CAAYC,EAAZ,CAAe,mBAAf,EAAoC,MAAKC,MAAL,CAAYC,IAAZ,OAApC;AACH,gBAAKH,MAAL,CAAYC,EAAZ,CAAe,eAAf,EAAgC,MAAKG,cAAL,CAAoBD,IAApB,OAAhC;AACG,gBAAKH,MAAL,CAAYC,EAAZ,CAAe,oBAAf,EAAqC,MAAKG,cAAL,CAAoBD,IAApB,OAArC;AAN6B;AAO9B;;;;yCAEcE,Q,EAAU;AAC1B,iBAAKN,KAAL,CAAWL,QAAX,GAAoBW,SAAS,CAAT,EAAYC,UAAZ,CAAuBD,SAAS,CAAT,EAAYC,UAAZ,CAAuBC,MAAvB,GAA8B,CAArD,EAAwD,CAAxD,CAApB;AACG,iBAAKL,MAAL;AACD;;;+BAEIM,K,EAAOC,I,EAAMC,K,EAAOC,I,EAAM;AAC7B,qBAAST,MAAT,GAAkB,CACjB;;AAED,iBAAKF,MAAL,CAAYC,EAAZ,CAAe,QAAf,EAAyB,YAAW;AAClCC;AACAS,mBAAKC,kBAAL;AACD,aAHD;AAID;;;;QAzBkCpB,gB;;;;AA4BrCG,sBAAgBkB,WAAhB,GAA8B,aAA9B","file":"imageviewer_ctrl.js","sourcesContent":["import _ from 'lodash';\nimport {MetricsPanelCtrl} from 'app/plugins/sdk';\n\nconst panelDefaults = {\n\timageURL : \"\"\n};\n\nexport class ImageViewerCtrl extends MetricsPanelCtrl  {\n  \n  \n  constructor($scope, $injector) {\n    super($scope, $injector);\n    _.defaults(this.panel, panelDefaults);\n\n    this.events.on('panel-initialized', this.render.bind(this));\n\tthis.events.on('data-received', this.onDataReceived.bind(this));\n    this.events.on('data-snapshot-load', this.onDataReceived.bind(this));\n  }\n\n  onDataReceived(dataList) {\n\tthis.panel.imageURL=dataList[0].datapoints[dataList[0].datapoints.length-1][0];\n    this.render();\n  }\n\t\n  link(scope, elem, attrs, ctrl) {\n    function render() {\n    }\n\n    this.events.on('render', function() {\n      render();\n      ctrl.renderingCompleted();\n    });\n  }\n}\n\nImageViewerCtrl.templateUrl = 'module.html';\n"]}